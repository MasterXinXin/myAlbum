package cn.com.zhang.album;

import com.alibaba.fastjson.JSON;
import com.alibaba.fastjson.JSONArray;
import com.alibaba.fastjson.JSONObject;

import java.util.HashMap;
import java.util.Map;

public class JsonTest {
    public static void main(String[] args) throws Exception {
//        String content = "eyJPTV9PRkZFUiI6W3siREFUQV9TVEFUVVMiOiIxIiwiRVhQSVJFX0RBVEUiOiIyMDIwLTAzLTMxIDIzOjU5OjU5IiwiT1BfSUQiOiJBR1RDMjEzNCIsIklTX01BSU4iOiIxIiwiT0ZGRVJfTkFNRSI6IuWFqOeQg+mAmueVheS6qzk45aWX6aSQIiwiU1VCU0NSSUJFUl9JTlNfSUQiOiI3MDEyMTAwOTM3MzE1NTgzIiwiT1JHX0lEIjoiNzEyNDEiLCJPRkZFUl9JTlNfSUQiOiI3MDE5MDUxNDI1ODIxOTg2IiwiQ1JFQVRFX09SR19JRCI6IjcxMjQxIiwiUkVHSU9OX0lEIjoiMDYiLCJDVVNUX0lEIjoiNzAxMjEwMDkyNTM4MzkwMyIsIkNSRUFURV9PUF9JRCI6IkFHVEMyMTM0IiwiVkFMSURfREFURSI6IjIwMTktMDYtMDEgMDA6MDA6MDAiLCJET05FX0RBVEUiOiIyMDIwLTAzLTI0IDE4OjM2OjQ4IiwiT0ZGRVJfSUQiOiI5MzA4MDAwOSIsIkNSRUFURV9EQVRFIjoiMjAxOS0wNS0xNCAyMDo1NDo0OCIsIklTX0JVTkRMRSI6IjEiLCJBQ1RJT04iOiIxIiwiQlJBTkQiOiJHMDAxIiwiT0ZGRVJfVFlQRSI6IjAwIiwiT1JERVJfTElORV9JRCI6IjcwMjAwMzI0NDg1OTQ0OTIifSx7IkRBVEFfU1RBVFVTIjoiMSIsIkVYUElSRV9EQVRFIjoiMjA1MC0xMi0zMSAyMzo1OTo1OSIsIk9QX0lEIjoiQUdUQzIxMzQiLCJJU19NQUlOIjoiMSIsIk9GRkVSX05BTUUiOiI1R+aZuuS6qzE5OOWll+mkkCIsIlNVQlNDUklCRVJfSU5TX0lEIjoiNzAxMjEwMDkzNzMxNTU4MyIsIk9SR19JRCI6IjcxMjQxIiwiT0ZGRVJfSU5TX0lEIjoiNzAyMDAzMjQ3MTA0NjU2MSIsIkNSRUFURV9PUkdfSUQiOiI3MTI0MSIsIlJFR0lPTl9JRCI6IjA2IiwiQ1VTVF9JRCI6IjcwMTIxMDA5MjUzODM5MDMiLCJDUkVBVEVfT1BfSUQiOiJBR1RDMjEzNCIsIlZBTElEX0RBVEUiOiIyMDIwLTA0LTAxIDAwOjAwOjAwIiwiRE9ORV9EQVRFIjoiMjAyMC0wMy0yNCAxODozNjo0OCIsIk9GRkVSX0lEIjoiOTMxMDgwMTEiLCJDUkVBVEVfREFURSI6IjIwMjAtMDMtMjQgMTg6MzY6NDIiLCJJU19CVU5ETEUiOiIxIiwiQUNUSU9OIjoiMCIsIkJSQU5EIjoiRzAwMSIsIk9GRkVSX1RZUEUiOiIwMCIsIk9SREVSX0xJTkVfSUQiOiI3MDIwMDMyNDQ4NTk0NDkyIn0seyJEQVRBX1NUQVRVUyI6IjEiLCJFWFBJUkVfREFURSI6IjIwNTAtMTItMzEgMjM6NTk6NTkiLCJPUF9JRCI6IkFHVEMyMTM0IiwiSVNfTUFJTiI6IjAiLCJPRkZFUl9OQU1FIjoi5aWX6aSQ5aWX5aSW5rWB6YeP6Ieq5Yqo5Y2H5qGjKOWJjemdojNHQig15YWD5q+PR0Ip77yM5ZCO6Z2iM+WFg+avj0dCKSIsIlNVQlNDUklCRVJfSU5TX0lEIjoiNzAxMjEwMDkzNzMxNTU4MyIsIk9SR19JRCI6IjcxMjQxIiwiT0ZGRVJfSU5TX0lEIjoiNzAyMDAzMjQ3MTA0NjU3MyIsIkNSRUFURV9PUkdfSUQiOiI3MTI0MSIsIlJFR0lPTl9JRCI6IjA0IiwiQ1VTVF9JRCI6IjcwMTIxMDA5MjUzODM5MDMiLCJDUkVBVEVfT1BfSUQiOiJBR1RDMjEzNCIsIlZBTElEX0RBVEUiOiIyMDIwLTA0LTAxIDAwOjAwOjAwIiwiRE9ORV9EQVRFIjoiMjAyMC0wMy0yNCAxODozNjo0OCIsIk9GRkVSX0lEIjoiMTAwMDI4NzY3NCIsIkNSRUFURV9EQVRFIjoiMjAyMC0wMy0yNCAxODozNjo0MiIsIklTX0JVTkRMRSI6IjAiLCJBQ1RJT04iOiIwIiwiT0ZGRVJfVFlQRSI6IjMzIiwiT1JERVJfTElORV9JRCI6IjcwMjAwMzI0NDg1OTQ0OTIifSx7IkRBVEFfU1RBVFVTIjoiMSIsIkVYUElSRV9EQVRFIjoiMjA1MC0xMi0zMSAyMzo1OTo1OSIsIk9QX0lEIjoiQUdUQzIxMzQiLCJJU19NQUlOIjoiMCIsIk9GRkVSX05BTUUiOiI1R+S8mOS6q+acjeWKoSIsIlNVQlNDUklCRVJfSU5TX0lEIjoiNzAxMjEwMDkzNzMxNTU4MyIsIk9SR19JRCI6IjcxMjQxIiwiT0ZGRVJfSU5TX0lEIjoiNzAyMDAzMjQ3MTA0NjU3OCIsIkNSRUFURV9PUkdfSUQiOiI3MTI0MSIsIlJFR0lPTl9JRCI6IjAyIiwiQ1VTVF9JRCI6IjcwMTIxMDA5MjUzODM5MDMiLCJDUkVBVEVfT1BfSUQiOiJBR1RDMjEzNCIsIlZBTElEX0RBVEUiOiIyMDIwLTA0LTAxIDAwOjAwOjAwIiwiRE9ORV9EQVRFIjoiMjAyMC0wMy0yNCAxODozNjo0OCIsIk9GRkVSX0lEIjoiMTAwMDI5NTAxOCIsIkNSRUFURV9EQVRFIjoiMjAyMC0wMy0yNCAxODozNjo0MiIsIklTX0JVTkRMRSI6IjAiLCJBQ1RJT04iOiIwIiwiT0ZGRVJfVFlQRSI6IjIxIiwiT1JERVJfTElORV9JRCI6IjcwMjAwMzI0NDg1OTQ0OTIifSx7IkRBVEFfU1RBVFVTIjoiMSIsIkVYUElSRV9EQVRFIjoiMjA1MC0xMi0zMSAyMzo1OTo1OSIsIk9QX0lEIjoiQUdUQzIxMzQiLCJJU19NQUlOIjoiMCIsIk9GRkVSX05BTUUiOiI1R+eVheeOqeWMhSIsIlNVQlNDUklCRVJfSU5TX0lEIjoiNzAxMjEwMDkzNzMxNTU4MyIsIk9SR19JRCI6IjcxMjQxIiwiT0ZGRVJfSU5TX0lEIjoiNzAyMDAzMjQ3MTA0NjU5MCIsIkNSRUFURV9PUkdfSUQiOiI3MTI0MSIsIlJFR0lPTl9JRCI6IjAzIiwiQ1VTVF9JRCI6IjcwMTIxMDA5MjUzODM5MDMiLCJDUkVBVEVfT1BfSUQiOiJBR1RDMjEzNCIsIlZBTElEX0RBVEUiOiIyMDIwLTA0LTAxIDAwOjAwOjAwIiwiRE9ORV9EQVRFIjoiMjAyMC0wMy0yNCAxODozNjo0OCIsIk9GRkVSX0lEIjoiMTA2MDkzOTE4OSIsIkNSRUFURV9EQVRFIjoiMjAyMC0wMy0yNCAxODozNjo0MiIsIklTX0JVTkRMRSI6IjAiLCJBQ1RJT04iOiIwIiwiT0ZGRVJfVFlQRSI6IjIyIiwiT1JERVJfTElORV9JRCI6IjcwMjAwMzI0NDg1OTQ0OTIifSx7IkRBVEFfU1RBVFVTIjoiMSIsIkVYUElSRV9EQVRFIjoiMjAyMC0wMy0zMSAyMzo1OTo1OSIsIk9QX0lEIjoiQUdUQzIxMzQiLCJJU19NQUlOIjoiMCIsIk9GRkVSX05BTUUiOiIxMDDliIbpkp/lm73pmYXplb/pgJTor63pn7MiLCJTVUJTQ1JJQkVSX0lOU19JRCI6IjcwMTIxMDA5MzczMTU1ODMiLCJPUkdfSUQiOiI3MTI0MSIsIk9GRkVSX0lOU19JRCI6IjcwMTkwNTE0MjU4MjE5ODkiLCJDUkVBVEVfT1JHX0lEIjoiNzEyNDEiLCJSRUdJT05fSUQiOiIwNCIsIkNVU1RfSUQiOiI3MDEyMTAwOTI1MzgzOTAzIiwiQ1JFQVRFX09QX0lEIjoiQUdUQzIxMzQiLCJWQUxJRF9EQVRFIjoiMjAxOS0wNi0wMSAwMDowMDowMCIsIkRPTkVfREFURSI6IjIwMjAtMDMtMjQgMTg6MzY6NDgiLCJPRkZFUl9JRCI6IjEwMDAxODE2NTMiLCJDUkVBVEVfREFURSI6IjIwMTktMDUtMTQgMjA6NTQ6NDgiLCJJU19CVU5ETEUiOiIwIiwiQUNUSU9OIjoiMSIsIk9GRkVSX1RZUEUiOiIzMyIsIk9SREVSX0xJTkVfSUQiOiI3MDIwMDMyNDQ4NTk0NDkyIn0seyJEQVRBX1NUQVRVUyI6IjEiLCJFWFBJUkVfREFURSI6IjIwMjAtMDMtMzEgMjM6NTk6NTkiLCJPUF9JRCI6IkFHVEMyMTM0IiwiSVNfTUFJTiI6IjAiLCJPRkZFUl9OQU1FIjoi5YeP5YWN5YWx5Lqr5Yqf6IO96LS5MTDlhYMiLCJTVUJTQ1JJQkVSX0lOU19JRCI6IjcwMTIxMDA5MzczMTU1ODMiLCJPUkdfSUQiOiI3MTI0MSIsIk9GRkVSX0lOU19JRCI6IjcwMTkwNTE0MjU4MjE5OTMiLCJDUkVBVEVfT1JHX0lEIjoiNzEyNDEiLCJSRUdJT05fSUQiOiIwNCIsIkNVU1RfSUQiOiI3MDEyMTAwOTI1MzgzOTAzIiwiQ1JFQVRFX09QX0lEIjoiQUdUQzIxMzQiLCJWQUxJRF9EQVRFIjoiMjAxOS0wNi0wMSAwMDowMDowMCIsIkRPTkVfREFURSI6IjIwMjAtMDMtMjQgMTg6MzY6NDgiLCJPRkZFUl9JRCI6IjEwMDAxODY1MDMiLCJDUkVBVEVfREFURSI6IjIwMTktMDUtMTQgMjA6NTQ6NDgiLCJJU19CVU5ETEUiOiIwIiwiQUNUSU9OIjoiMSIsIk9GRkVSX1RZUEUiOiIzMyIsIk9SREVSX0xJTkVfSUQiOiI3MDIwMDMyNDQ4NTk0NDkyIn0seyJEQVRBX1NUQVRVUyI6IjEiLCJFWFBJUkVfREFURSI6IjIwMjAtMDMtMzEgMjM6NTk6NTkiLCJPUF9JRCI6IkFHVEMyMTM0IiwiSVNfTUFJTiI6IjAiLCJPRkZFUl9OQU1FIjoi5YWo55CD6YCa55WF5LqrOTjlpZfppJAiLCJTVUJTQ1JJQkVSX0lOU19JRCI6IjcwMTIxMDA5MzczMTU1ODMiLCJPUkdfSUQiOiI3MTI0MSIsIk9GRkVSX0lOU19JRCI6IjcwMTkwNTE0MjU4MjE5OTUiLCJDUkVBVEVfT1JHX0lEIjoiNzEyNDEiLCJSRUdJT05fSUQiOiIwNCIsIkNVU1RfSUQiOiI3MDEyMTAwOTI1MzgzOTAzIiwiQ1JFQVRFX09QX0lEIjoiQUdUQzIxMzQiLCJWQUxJRF9EQVRFIjoiMjAxOS0wNi0wMSAwMDowMDowMCIsIkRPTkVfREFURSI6IjIwMjAtMDMtMjQgMTg6MzY6NDgiLCJPRkZFUl9JRCI6IjEwMDAxODY1MDQiLCJDUkVBVEVfREFURSI6IjIwMTktMDUtMTQgMjA6NTQ6NDgiLCJJU19CVU5ETEUiOiIwIiwiQUNUSU9OIjoiMSIsIk9GRkVSX1RZUEUiOiIzMyIsIk9SREVSX0xJTkVfSUQiOiI3MDIwMDMyNDQ4NTk0NDkyIn1dLCJCSV9JTlQiOnsiQ0FOQ0VMX1RBRyI6IjAiLCJFWFBJUkVfREFURSI6IiIsIk9QX0lEIjoiQUdUQzIxMzQiLCJQQVJUWV9OQU1FIjoi55SzKioiLCJJTl9NT0RFX0NPREUiOiIzIiwiQlVTSV9DT0RFIjoiMSIsIk1HTVRfQ09VTlRZIjoiQzBMSiIsIklOVEFDVF9TUEVDX0lEIjoiMCIsIk9SR19JRCI6IjcxMjQxIiwiUkVHSU9OX0lEIjoiMDg3MCIsIkNSRUFURV9PUkdfSUQiOiI3MTI0MSIsIlBBUlRZX1JPTEVfSUQiOiI3MDEyMTAwOTI1MzgzOTAzIiwiSU5UQUNUX1NUQVRVUyI6IjAiLCJDUkVBVEVfT1BfSUQiOiJBR1RDMjEzNCIsIlZBTElEX0RBVEUiOiIyMDIwLTAzLTI0IDE4OjM2OjQyIiwiSU5UQUNUX0lEIjoiNzAyMDAzMjQwODMyNDk5MCIsIk1HTVRfRElTVFJJQ1QgIjoiMDg3MCIsIkNSRUFURV9EQVRFIjoiMjAyMC0wMy0yNCAxODozNjo0MiJ9LCJPTV9MSU5FIjpbeyJDQU5DRUxfVEFHIjoiMCIsIkVYUElSRV9EQVRFIjoiMjA1MC0xMi0zMSAyMzo1OTo1OSIsIkRBVEFfU1RBVFVTIjoiMSIsIk9QX0lEIjoiQUdUQzIxMzQiLCJPUkRFUl9TVEFUVVMiOiIxMDAwIiwiTUdNVF9DT1VOVFkiOiJDMExKIiwiQlVTSV9JVEVNX0NPREUiOiIxMTAiLCJBQ0NFU1NfTlVNIjoiMTgzODcwODU3MjMiLCJTVUJTQ1JJQkVSX0lOU19JRCI6IjcwMTIxMDA5MzczMTU1ODMiLCJPUkdfSUQiOiI3MTI0MSIsIkNSRUFURV9PUkdfSUQiOiI3MTI0MSIsIlJFR0lPTl9JRCI6IjA4NzAiLCJQQVJUWV9ST0xFX0lEIjoiNzAxMjEwMDkyNTM4MzkwMyIsIklOVEFDVF9JVEVNX0lEIjoiNzAyMDAzMjQ1NDQ4MTY2MiIsIk9SREVSX0lEIjoiNzAyMDAzMjQ0ODU5NDQ4NiIsIlZBTElEX0RBVEUiOiIyMDIwLTAzLTI0IDE4OjM2OjQyIiwiQ1JFQVRFX09QX0lEIjoiQUdUQzIxMzQiLCJET05FX0RBVEUiOiIyMDIwLTAzLTI0IDE4OjM2OjQyIiwiQ1JFQVRFX0RBVEUiOiIyMDIwLTAzLTI0IDE4OjM2OjQyIiwiQUNUSU9OIjoiQUNUSU9OIiwiT1JERVJfTElORV9JRCI6IjcwMjAwMzI0NDg1OTQ0OTIiLCJNR01UX0RJU1RSSUNUIjoiMDg3MCJ9XSwiQklfSU5UX0lURU0iOlt7IkRBVEFfU1RBVFVTIjoiMSIsIkNBTkNFTF9UQUciOiIwIiwiT1BfSUQiOiJBR1RDMjEzNCIsIlJFTUFSS1MiOiIiLCJQUklPUklUWSI6IjMzMCIsIklOVEFDVF9JVEVNX1NUQVRVUyI6IjAiLCJBQ0NFU1NfTlVNIjoiMTgzODcwODU3MjMiLCJCVVNJX0lURU1fQ09ERSI6IjExMCIsIk1HTVRfQ09VTlRZIjoiQzBMSiIsIklOVEFDVF9JVEVNX1NQRUNfSUQiOiIwIiwiU1VCU0NSSUJFUl9JTlNfSUQiOiI3MDEyMTAwOTM3MzE1NTgzIiwiT1JHX0lEIjoiNzEyNDEiLCJSRUdJT05fSUQiOiIwODcwIiwiQ1JFQVRFX09SR19JRCI6IkFHVEMyMTM0IiwiSU5UQUNUX0lURU1fSUQiOiI3MDIwMDMyNDU0NDgxNjYyIiwiVkFMSURfREFURSI6IjIwMjAtMDMtMjQgMTg6MzY6NDIiLCJDUkVBVEVfT1BfSUQiOiJBR1RDMjEzNCIsIkRPTkVfREFURSI6IjIwMjAtMDMtMjQgMTg6MzY6NDIiLCJJTlRBQ1RfSUQiOiI3MDIwMDMyNDA4MzI0OTkwIiwiQ1JFQVRFX0RBVEUiOiIyMDIwLTAzLTI0IDE4OjM2OjQyIiwiQUNUSU9OIjoiMCIsIk1HTVRfRElTVFJJQ1QiOiIwODcwIn1dfQ==";
//        Map map = new HashMap<>();
//        map.put("appId","0");
//        map.put("messageCode","OC_PERSON_CS_REG");
//        map.put("typeCode","110");
//        map.put("messageContent",decodeBytesString(content));
//        map.put("accessTime","20200324183649");
        String message = "{\"appId\":\"0\",\"messageCode\":\"OC_PERSON_CS_REG\",\"typeCode\":\"110\",\"messageContent\":\"\\\"eyJPTV9PRkZFUiI6W3siREFUQV9TVEFUVVMiOiIxIiwiRVhQSVJFX0RBVEUiOiIyMDIwLTAzLTMxIDIzOjU5OjU5IiwiT1BfSUQiOiJBR1RDMjEzNCIsIklTX01BSU4iOiIxIiwiT0ZGRVJfTkFNRSI6IuWFqOeQg+mAmueVheS6qzk45aWX6aSQIiwiU1VCU0NSSUJFUl9JTlNfSUQiOiI3MDEyMTAwOTM3MzE1NTgzIiwiT1JHX0lEIjoiNzEyNDEiLCJPRkZFUl9JTlNfSUQiOiI3MDE5MDUxNDI1ODIxOTg2IiwiQ1JFQVRFX09SR19JRCI6IjcxMjQxIiwiUkVHSU9OX0lEIjoiMDYiLCJDVVNUX0lEIjoiNzAxMjEwMDkyNTM4MzkwMyIsIkNSRUFURV9PUF9JRCI6IkFHVEMyMTM0IiwiVkFMSURfREFURSI6IjIwMTktMDYtMDEgMDA6MDA6MDAiLCJET05FX0RBVEUiOiIyMDIwLTAzLTI0IDE4OjM2OjQ4IiwiT0ZGRVJfSUQiOiI5MzA4MDAwOSIsIkNSRUFURV9EQVRFIjoiMjAxOS0wNS0xNCAyMDo1NDo0OCIsIklTX0JVTkRMRSI6IjEiLCJBQ1RJT04iOiIxIiwiQlJBTkQiOiJHMDAxIiwiT0ZGRVJfVFlQRSI6IjAwIiwiT1JERVJfTElORV9JRCI6IjcwMjAwMzI0NDg1OTQ0OTIifSx7IkRBVEFfU1RBVFVTIjoiMSIsIkVYUElSRV9EQVRFIjoiMjA1MC0xMi0zMSAyMzo1OTo1OSIsIk9QX0lEIjoiQUdUQzIxMzQiLCJJU19NQUlOIjoiMSIsIk9GRkVSX05BTUUiOiI1R+aZuuS6qzE5OOWll+mkkCIsIlNVQlNDUklCRVJfSU5TX0lEIjoiNzAxMjEwMDkzNzMxNTU4MyIsIk9SR19JRCI6IjcxMjQxIiwiT0ZGRVJfSU5TX0lEIjoiNzAyMDAzMjQ3MTA0NjU2MSIsIkNSRUFURV9PUkdfSUQiOiI3MTI0MSIsIlJFR0lPTl9JRCI6IjA2IiwiQ1VTVF9JRCI6IjcwMTIxMDA5MjUzODM5MDMiLCJDUkVBVEVfT1BfSUQiOiJBR1RDMjEzNCIsIlZBTElEX0RBVEUiOiIyMDIwLTA0LTAxIDAwOjAwOjAwIiwiRE9ORV9EQVRFIjoiMjAyMC0wMy0yNCAxODozNjo0OCIsIk9GRkVSX0lEIjoiOTMxMDgwMTEiLCJDUkVBVEVfREFURSI6IjIwMjAtMDMtMjQgMTg6MzY6NDIiLCJJU19CVU5ETEUiOiIxIiwiQUNUSU9OIjoiMCIsIkJSQU5EIjoiRzAwMSIsIk9GRkVSX1RZUEUiOiIwMCIsIk9SREVSX0xJTkVfSUQiOiI3MDIwMDMyNDQ4NTk0NDkyIn0seyJEQVRBX1NUQVRVUyI6IjEiLCJFWFBJUkVfREFURSI6IjIwNTAtMTItMzEgMjM6NTk6NTkiLCJPUF9JRCI6IkFHVEMyMTM0IiwiSVNfTUFJTiI6IjAiLCJPRkZFUl9OQU1FIjoi5aWX6aSQ5aWX5aSW5rWB6YeP6Ieq5Yqo5Y2H5qGjKOWJjemdojNHQig15YWD5q+PR0Ip77yM5ZCO6Z2iM+WFg+avj0dCKSIsIlNVQlNDUklCRVJfSU5TX0lEIjoiNzAxMjEwMDkzNzMxNTU4MyIsIk9SR19JRCI6IjcxMjQxIiwiT0ZGRVJfSU5TX0lEIjoiNzAyMDAzMjQ3MTA0NjU3MyIsIkNSRUFURV9PUkdfSUQiOiI3MTI0MSIsIlJFR0lPTl9JRCI6IjA0IiwiQ1VTVF9JRCI6IjcwMTIxMDA5MjUzODM5MDMiLCJDUkVBVEVfT1BfSUQiOiJBR1RDMjEzNCIsIlZBTElEX0RBVEUiOiIyMDIwLTA0LTAxIDAwOjAwOjAwIiwiRE9ORV9EQVRFIjoiMjAyMC0wMy0yNCAxODozNjo0OCIsIk9GRkVSX0lEIjoiMTAwMDI4NzY3NCIsIkNSRUFURV9EQVRFIjoiMjAyMC0wMy0yNCAxODozNjo0MiIsIklTX0JVTkRMRSI6IjAiLCJBQ1RJT04iOiIwIiwiT0ZGRVJfVFlQRSI6IjMzIiwiT1JERVJfTElORV9JRCI6IjcwMjAwMzI0NDg1OTQ0OTIifSx7IkRBVEFfU1RBVFVTIjoiMSIsIkVYUElSRV9EQVRFIjoiMjA1MC0xMi0zMSAyMzo1OTo1OSIsIk9QX0lEIjoiQUdUQzIxMzQiLCJJU19NQUlOIjoiMCIsIk9GRkVSX05BTUUiOiI1R+S8mOS6q+acjeWKoSIsIlNVQlNDUklCRVJfSU5TX0lEIjoiNzAxMjEwMDkzNzMxNTU4MyIsIk9SR19JRCI6IjcxMjQxIiwiT0ZGRVJfSU5TX0lEIjoiNzAyMDAzMjQ3MTA0NjU3OCIsIkNSRUFURV9PUkdfSUQiOiI3MTI0MSIsIlJFR0lPTl9JRCI6IjAyIiwiQ1VTVF9JRCI6IjcwMTIxMDA5MjUzODM5MDMiLCJDUkVBVEVfT1BfSUQiOiJBR1RDMjEzNCIsIlZBTElEX0RBVEUiOiIyMDIwLTA0LTAxIDAwOjAwOjAwIiwiRE9ORV9EQVRFIjoiMjAyMC0wMy0yNCAxODozNjo0OCIsIk9GRkVSX0lEIjoiMTAwMDI5NTAxOCIsIkNSRUFURV9EQVRFIjoiMjAyMC0wMy0yNCAxODozNjo0MiIsIklTX0JVTkRMRSI6IjAiLCJBQ1RJT04iOiIwIiwiT0ZGRVJfVFlQRSI6IjIxIiwiT1JERVJfTElORV9JRCI6IjcwMjAwMzI0NDg1OTQ0OTIifSx7IkRBVEFfU1RBVFVTIjoiMSIsIkVYUElSRV9EQVRFIjoiMjA1MC0xMi0zMSAyMzo1OTo1OSIsIk9QX0lEIjoiQUdUQzIxMzQiLCJJU19NQUlOIjoiMCIsIk9GRkVSX05BTUUiOiI1R+eVheeOqeWMhSIsIlNVQlNDUklCRVJfSU5TX0lEIjoiNzAxMjEwMDkzNzMxNTU4MyIsIk9SR19JRCI6IjcxMjQxIiwiT0ZGRVJfSU5TX0lEIjoiNzAyMDAzMjQ3MTA0NjU5MCIsIkNSRUFURV9PUkdfSUQiOiI3MTI0MSIsIlJFR0lPTl9JRCI6IjAzIiwiQ1VTVF9JRCI6IjcwMTIxMDA5MjUzODM5MDMiLCJDUkVBVEVfT1BfSUQiOiJBR1RDMjEzNCIsIlZBTElEX0RBVEUiOiIyMDIwLTA0LTAxIDAwOjAwOjAwIiwiRE9ORV9EQVRFIjoiMjAyMC0wMy0yNCAxODozNjo0OCIsIk9GRkVSX0lEIjoiMTA2MDkzOTE4OSIsIkNSRUFURV9EQVRFIjoiMjAyMC0wMy0yNCAxODozNjo0MiIsIklTX0JVTkRMRSI6IjAiLCJBQ1RJT04iOiIwIiwiT0ZGRVJfVFlQRSI6IjIyIiwiT1JERVJfTElORV9JRCI6IjcwMjAwMzI0NDg1OTQ0OTIifSx7IkRBVEFfU1RBVFVTIjoiMSIsIkVYUElSRV9EQVRFIjoiMjAyMC0wMy0zMSAyMzo1OTo1OSIsIk9QX0lEIjoiQUdUQzIxMzQiLCJJU19NQUlOIjoiMCIsIk9GRkVSX05BTUUiOiIxMDDliIbpkp/lm73pmYXplb/pgJTor63pn7MiLCJTVUJTQ1JJQkVSX0lOU19JRCI6IjcwMTIxMDA5MzczMTU1ODMiLCJPUkdfSUQiOiI3MTI0MSIsIk9GRkVSX0lOU19JRCI6IjcwMTkwNTE0MjU4MjE5ODkiLCJDUkVBVEVfT1JHX0lEIjoiNzEyNDEiLCJSRUdJT05fSUQiOiIwNCIsIkNVU1RfSUQiOiI3MDEyMTAwOTI1MzgzOTAzIiwiQ1JFQVRFX09QX0lEIjoiQUdUQzIxMzQiLCJWQUxJRF9EQVRFIjoiMjAxOS0wNi0wMSAwMDowMDowMCIsIkRPTkVfREFURSI6IjIwMjAtMDMtMjQgMTg6MzY6NDgiLCJPRkZFUl9JRCI6IjEwMDAxODE2NTMiLCJDUkVBVEVfREFURSI6IjIwMTktMDUtMTQgMjA6NTQ6NDgiLCJJU19CVU5ETEUiOiIwIiwiQUNUSU9OIjoiMSIsIk9GRkVSX1RZUEUiOiIzMyIsIk9SREVSX0xJTkVfSUQiOiI3MDIwMDMyNDQ4NTk0NDkyIn0seyJEQVRBX1NUQVRVUyI6IjEiLCJFWFBJUkVfREFURSI6IjIwMjAtMDMtMzEgMjM6NTk6NTkiLCJPUF9JRCI6IkFHVEMyMTM0IiwiSVNfTUFJTiI6IjAiLCJPRkZFUl9OQU1FIjoi5YeP5YWN5YWx5Lqr5Yqf6IO96LS5MTDlhYMiLCJTVUJTQ1JJQkVSX0lOU19JRCI6IjcwMTIxMDA5MzczMTU1ODMiLCJPUkdfSUQiOiI3MTI0MSIsIk9GRkVSX0lOU19JRCI6IjcwMTkwNTE0MjU4MjE5OTMiLCJDUkVBVEVfT1JHX0lEIjoiNzEyNDEiLCJSRUdJT05fSUQiOiIwNCIsIkNVU1RfSUQiOiI3MDEyMTAwOTI1MzgzOTAzIiwiQ1JFQVRFX09QX0lEIjoiQUdUQzIxMzQiLCJWQUxJRF9EQVRFIjoiMjAxOS0wNi0wMSAwMDowMDowMCIsIkRPTkVfREFURSI6IjIwMjAtMDMtMjQgMTg6MzY6NDgiLCJPRkZFUl9JRCI6IjEwMDAxODY1MDMiLCJDUkVBVEVfREFURSI6IjIwMTktMDUtMTQgMjA6NTQ6NDgiLCJJU19CVU5ETEUiOiIwIiwiQUNUSU9OIjoiMSIsIk9GRkVSX1RZUEUiOiIzMyIsIk9SREVSX0xJTkVfSUQiOiI3MDIwMDMyNDQ4NTk0NDkyIn0seyJEQVRBX1NUQVRVUyI6IjEiLCJFWFBJUkVfREFURSI6IjIwMjAtMDMtMzEgMjM6NTk6NTkiLCJPUF9JRCI6IkFHVEMyMTM0IiwiSVNfTUFJTiI6IjAiLCJPRkZFUl9OQU1FIjoi5YWo55CD6YCa55WF5LqrOTjlpZfppJAiLCJTVUJTQ1JJQkVSX0lOU19JRCI6IjcwMTIxMDA5MzczMTU1ODMiLCJPUkdfSUQiOiI3MTI0MSIsIk9GRkVSX0lOU19JRCI6IjcwMTkwNTE0MjU4MjE5OTUiLCJDUkVBVEVfT1JHX0lEIjoiNzEyNDEiLCJSRUdJT05fSUQiOiIwNCIsIkNVU1RfSUQiOiI3MDEyMTAwOTI1MzgzOTAzIiwiQ1JFQVRFX09QX0lEIjoiQUdUQzIxMzQiLCJWQUxJRF9EQVRFIjoiMjAxOS0wNi0wMSAwMDowMDowMCIsIkRPTkVfREFURSI6IjIwMjAtMDMtMjQgMTg6MzY6NDgiLCJPRkZFUl9JRCI6IjEwMDAxODY1MDQiLCJDUkVBVEVfREFURSI6IjIwMTktMDUtMTQgMjA6NTQ6NDgiLCJJU19CVU5ETEUiOiIwIiwiQUNUSU9OIjoiMSIsIk9GRkVSX1RZUEUiOiIzMyIsIk9SREVSX0xJTkVfSUQiOiI3MDIwMDMyNDQ4NTk0NDkyIn1dLCJCSV9JTlQiOnsiQ0FOQ0VMX1RBRyI6IjAiLCJFWFBJUkVfREFURSI6IiIsIk9QX0lEIjoiQUdUQzIxMzQiLCJQQVJUWV9OQU1FIjoi55SzKioiLCJJTl9NT0RFX0NPREUiOiIzIiwiQlVTSV9DT0RFIjoiMSIsIk1HTVRfQ09VTlRZIjoiQzBMSiIsIklOVEFDVF9TUEVDX0lEIjoiMCIsIk9SR19JRCI6IjcxMjQxIiwiUkVHSU9OX0lEIjoiMDg3MCIsIkNSRUFURV9PUkdfSUQiOiI3MTI0MSIsIlBBUlRZX1JPTEVfSUQiOiI3MDEyMTAwOTI1MzgzOTAzIiwiSU5UQUNUX1NUQVRVUyI6IjAiLCJDUkVBVEVfT1BfSUQiOiJBR1RDMjEzNCIsIlZBTElEX0RBVEUiOiIyMDIwLTAzLTI0IDE4OjM2OjQyIiwiSU5UQUNUX0lEIjoiNzAyMDAzMjQwODMyNDk5MCIsIk1HTVRfRElTVFJJQ1QgIjoiMDg3MCIsIkNSRUFURV9EQVRFIjoiMjAyMC0wMy0yNCAxODozNjo0MiJ9LCJPTV9MSU5FIjpbeyJDQU5DRUxfVEFHIjoiMCIsIkVYUElSRV9EQVRFIjoiMjA1MC0xMi0zMSAyMzo1OTo1OSIsIkRBVEFfU1RBVFVTIjoiMSIsIk9QX0lEIjoiQUdUQzIxMzQiLCJPUkRFUl9TVEFUVVMiOiIxMDAwIiwiTUdNVF9DT1VOVFkiOiJDMExKIiwiQlVTSV9JVEVNX0NPREUiOiIxMTAiLCJBQ0NFU1NfTlVNIjoiMTgzODcwODU3MjMiLCJTVUJTQ1JJQkVSX0lOU19JRCI6IjcwMTIxMDA5MzczMTU1ODMiLCJPUkdfSUQiOiI3MTI0MSIsIkNSRUFURV9PUkdfSUQiOiI3MTI0MSIsIlJFR0lPTl9JRCI6IjA4NzAiLCJQQVJUWV9ST0xFX0lEIjoiNzAxMjEwMDkyNTM4MzkwMyIsIklOVEFDVF9JVEVNX0lEIjoiNzAyMDAzMjQ1NDQ4MTY2MiIsIk9SREVSX0lEIjoiNzAyMDAzMjQ0ODU5NDQ4NiIsIlZBTElEX0RBVEUiOiIyMDIwLTAzLTI0IDE4OjM2OjQyIiwiQ1JFQVRFX09QX0lEIjoiQUdUQzIxMzQiLCJET05FX0RBVEUiOiIyMDIwLTAzLTI0IDE4OjM2OjQyIiwiQ1JFQVRFX0RBVEUiOiIyMDIwLTAzLTI0IDE4OjM2OjQyIiwiQUNUSU9OIjoiQUNUSU9OIiwiT1JERVJfTElORV9JRCI6IjcwMjAwMzI0NDg1OTQ0OTIiLCJNR01UX0RJU1RSSUNUIjoiMDg3MCJ9XSwiQklfSU5UX0lURU0iOlt7IkRBVEFfU1RBVFVTIjoiMSIsIkNBTkNFTF9UQUciOiIwIiwiT1BfSUQiOiJBR1RDMjEzNCIsIlJFTUFSS1MiOiIiLCJQUklPUklUWSI6IjMzMCIsIklOVEFDVF9JVEVNX1NUQVRVUyI6IjAiLCJBQ0NFU1NfTlVNIjoiMTgzODcwODU3MjMiLCJCVVNJX0lURU1fQ09ERSI6IjExMCIsIk1HTVRfQ09VTlRZIjoiQzBMSiIsIklOVEFDVF9JVEVNX1NQRUNfSUQiOiIwIiwiU1VCU0NSSUJFUl9JTlNfSUQiOiI3MDEyMTAwOTM3MzE1NTgzIiwiT1JHX0lEIjoiNzEyNDEiLCJSRUdJT05fSUQiOiIwODcwIiwiQ1JFQVRFX09SR19JRCI6IkFHVEMyMTM0IiwiSU5UQUNUX0lURU1fSUQiOiI3MDIwMDMyNDU0NDgxNjYyIiwiVkFMSURfREFURSI6IjIwMjAtMDMtMjQgMTg6MzY6NDIiLCJDUkVBVEVfT1BfSUQiOiJBR1RDMjEzNCIsIkRPTkVfREFURSI6IjIwMjAtMDMtMjQgMTg6MzY6NDIiLCJJTlRBQ1RfSUQiOiI3MDIwMDMyNDA4MzI0OTkwIiwiQ1JFQVRFX0RBVEUiOiIyMDIwLTAzLTI0IDE4OjM2OjQyIiwiQUNUSU9OIjoiMCIsIk1HTVRfRElTVFJJQ1QiOiIwODcwIn1dfQ==\\\"\",\"accessTime\":\"20200324183649\"} ";
        Map messageMap = JSON.parseObject(message, Map.class);
        messageMap.put("messageContent",decodeBytesString((String) messageMap.get("messageContent")));
        System.out.println(isPassThrough(messageMap));
    }

    public static String decodeBytesString(String str) {
        byte[] logstrArr = JSONArray.parseObject(str,byte[].class);
        return new String(logstrArr);
    }

    /**
     * 根据map的json字符长度 判断是否需要透传
     * @param param
     * @return true 需要透传
     */
    public static boolean isPassThrough(Map param) throws Exception {
        int byteSize = 1048576;
        String stringCode = "UTF-8";
        String mapStr = new JSONObject(param).toString();
        int mapByteSize = getWordCountCode(mapStr,stringCode);
        return mapByteSize <= byteSize;
    }

    /**
     * 按特定的编码格式获取长度
     * @param str
     * @param code 指定字符编码
     * @return
     * @throws
     */
    static int getWordCountCode(String str, String code) throws Exception {
        return str.getBytes(code).length;
    }
}
